(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1328:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(0)),o=m(n(1)),l=n(33),i=n(311),u=n(19),c=m(n(1347)),s=m(n(1413)),d=m(n(490)),f=m(n(307)),p=n(491);function m(e){return e&&e.__esModule?e:{default:e}}n(1362);var h=function(e){function t(e,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillMount",value:function(){this.context.registerFetchAction((0,i.fetchProject)(this.props.match.params.slug),"fetch-project")}},{key:"componentWillReceiveProps",value:function(e){(0,i.fetchProject)(e.match.params.slug)(e.dispatch,this.context.store.getState())}},{key:"render",value:function(){var e=this.props,t=e.project,n=e.viewport;if((0,p.loadingOrErrorCheck)(t,"content"))return a.default.createElement(p.LoadingAndError,{item:t,contentKey:"content"});var r=t.content.vc_content;r[0]&&"vc_row"===r[0].name&&(r[0].attributes.full_width="stretch",r[0].attributes.padding_top="0",r[0].attributes.padding_bottom="0");var o=void 0;if(t.content.secondary_menu&&t.content.secondary_menu.length>0){var i=t.content.secondary_menu[0],u=t.content.secondary_menu.filter(function(e,t){return 0!==t});o=a.default.createElement("div",{className:"project--subpage-container"},a.default.createElement(c.default,{viewport:n,project:t.content,menuItems:u,location:this.props.location,history:this.props.history,optionalCallToAction:t.content.optional_call_to_action,user:this.props.user,menuSubItems:this.props.menuSubItems,currentSubPageSlug:this.props.currentSubPageSlug}),a.default.createElement(l.Switch,null,a.default.createElement(l.Route,{exact:!0,path:"/develop/:projectSlug",render:function(){return a.default.createElement(s.default,{defaultSlug:i.post_name})}}),a.default.createElement(l.Route,{path:"/develop/:projectSlug/*",component:s.default})))}return a.default.createElement("div",{className:"project--page"},a.default.createElement("div",{className:"project--page-top"},a.default.createElement(f.default,{optionalCallToAction:t.content.optional_call_to_action,project:t.content}),a.default.createElement(d.default,{mobile:this.props.mobile,content:t.content.vc_content,viewport:this.props.viewport})),o)}}]),t}();h.propTypes={dispatch:o.default.func,project:o.default.object,params:o.default.object,match:o.default.object,viewport:o.default.object,user:o.default.object,location:o.default.object,history:o.default.object,menuSubItems:o.default.array,currentSubPageSlug:o.default.string,mobile:o.default.string,baseHost:o.default.string},h.contextTypes={store:o.default.object,registerFetchAction:o.default.func};var v=(0,l.withRouter)((0,u.connect)(function(e,t){return{project:e.projects.list[t.match.params.slug],viewport:e.viewport,user:e.user,mobile:e.settings.mobile,menuSubItems:e.projects.currentProjectSubMenuSubItems,currentSubPageSlug:e.projects.currentSubPageSlug}},function(e){return{dispatch:e}})(h));t.default=v},1335:function(e,t){},1339:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),a=l(n(1)),o=l(n(1391));function l(e){return e&&e.__esModule?e:{default:e}}n(1389);var i=function(e){var t=(e.list||[]).map(function(e){return r.default.createElement(o.default,{parameter:e,key:e.name})});return r.default.createElement("div",null,t)};i.propTypes={list:a.default.array},t.default=i},1340:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=u(n(1)),o=u(n(3)),l=u(n(22)),i=u(n(44));function u(e){return e&&e.__esModule?e:{default:e}}n(1393);var c=function(e){var t=e.description||r.default.createElement("em",null,"No description"),n=(0,o.default)("documentation-item--description",{"documentation-item--no-description":!e.description});return r.default.createElement("div",{className:"documentation-item"},r.default.createElement("div",{className:"documentation-item--title"},r.default.createElement(l.default,{size:"large",to:e.to},e.title)),r.default.createElement("div",{className:n},r.default.createElement(i.default,{noPadding:!0},t)))};c.propTypes={to:a.default.string,title:a.default.string,description:a.default.string},t.default=c},1343:function(e,t,n){var r;!function(a){"use strict";var o,l,i,u=(o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,l=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,function(e,t,n,r){if(1!==arguments.length||"string"!==(null===(a=e)?"null":void 0===a?"undefined":"object"!=typeof a?typeof a:Array.isArray(a)?"array":{}.toString.call(a).slice(8,-1).toLowerCase())||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var a,s=(t=String(u.masks[t]||t||u.masks.default)).slice(0,4);"UTC:"!==s&&"GMT:"!==s||(t=t.slice(4),n=!0,"GMT:"===s&&(r=!0));var d=n?"getUTC":"get",f=e[d+"Date"](),p=e[d+"Day"](),m=e[d+"Month"](),h=e[d+"FullYear"](),v=e[d+"Hours"](),g=e[d+"Minutes"](),y=e[d+"Seconds"](),b=e[d+"Milliseconds"](),E=n?0:e.getTimezoneOffset(),_=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var a=(t-n)/6048e5;return 1+Math.floor(a)}(e),k=function(e){var t=e.getDay();return 0===t&&(t=7),t}(e),w={d:f,dd:c(f),ddd:u.i18n.dayNames[p],dddd:u.i18n.dayNames[p+7],m:m+1,mm:c(m+1),mmm:u.i18n.monthNames[m],mmmm:u.i18n.monthNames[m+12],yy:String(h).slice(2),yyyy:h,h:v%12||12,hh:c(v%12||12),H:v,HH:c(v),M:g,MM:c(g),s:y,ss:c(y),l:c(b,3),L:c(Math.round(b/10)),t:v<12?"a":"p",tt:v<12?"am":"pm",T:v<12?"A":"P",TT:v<12?"AM":"PM",Z:r?"GMT":n?"UTC":(String(e).match(l)||[""]).pop().replace(i,""),o:(E>0?"-":"+")+c(100*Math.floor(Math.abs(E)/60)+Math.abs(E)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:_,N:k};return t.replace(o,function(e){return e in w?w[e]:e.slice(1,e.length-1)})});function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}u.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r)}()},1344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),o=s(n(1)),l=s(n(40)),i=s(n(1410)),u=s(n(39)),c=s(n(43));function s(e){return e&&e.__esModule?e:{default:e}}n(1397);var d=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.subMenuContent,n=e.activeUrl,r=e.history,o=e.subMenu,s=e.viewport,d=e.subPage,f=e.activateMenuItem,p=d&&d.content?d.content:{};if(o&&o.length>0&&s.width>l.default.breakpoints.tabletMaxWidth&&!p.hide_sub_menu){var m=o.filter(function(e){return!0!==e.hide_sub_menu});return a.default.createElement(u.default,{height:"100%",rowStyle:{minHeight:"calc(100vh - 150px)"}},a.default.createElement(c.default,{width:"1/4",className:"sub-page-content--submenu-column"},a.default.createElement(i.default,{history:r,activeUrl:n,subMenu:m,activateMenuItem:f})),a.default.createElement(c.default,{width:"3/4"},a.default.createElement("div",{className:"sub-page-content--main-box"},this.props.children)))}return t&&s.width>l.default.breakpoints.tabletMaxWidth?a.default.createElement(u.default,{height:"100%",rowStyle:{minHeight:"calc(100vh - 150px)"}},a.default.createElement(c.default,{width:"1/4",className:"sub-page-content--submenu-column"},t),a.default.createElement(c.default,{width:"3/4"},this.props.children)):a.default.createElement("div",{className:"sub-page-content"},a.default.createElement("div",{className:"sub-page-content--container"},this.props.children))}}]),t}();d.propTypes={subPage:o.default.object,viewport:o.default.object,history:o.default.object,subMenuContent:o.default.object,subMenu:o.default.array,activeUrl:o.default.string,children:o.default.any,activateMenuItem:o.default.func},t.default=d},1362:function(e,t){},1363:function(e,t){},1364:function(e,t){},1365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=y(n(0)),o=n(19),l=y(n(1)),i=n(33),u=n(494);n(214);var c=y(n(32)),s=y(n(21)),d=y(n(493)),f=y(n(68)),p=y(n(15)),m=y(n(39)),h=y(n(43)),v=y(n(154)),g=y(n(137));function y(e){return e&&e.__esModule?e:{default:e}}n(1364);var b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onSubmit=function(e){var t={attachments:e.attachments,payload:{args:{clientEmail:e.clientEmail,programID:e.programID,input:{clientPrivate:r.state.clientPrivate,initialForm:{formTemplateID:e.formTemplateID,fields:e.fields},groupID:r.state.group}}}};(0,u.submitCrmTicket)(t)(r.props.dispatch,r.context.store.getState())},r.onCloseDialog=function(){r.setState({openModal:!1}),setTimeout(function(){if(r.state.success){var e=r.props.location.pathname,t=e.substring(0,e.lastIndexOf("/"));r.props.history.replace(t)}},100)},r.onGroupSelect=function(e){r.setState({group:e.target.value||null})},r.state={clientPrivate:!0,clientPrivateDefault:!0,openModal:!1,success:null,modalContent:{title:"",message:""},group:null},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillMount",value:function(){this.context.registerFetchAction((0,u.getCrmTicketForm)(this.props.ticketFormId),"fetch-crm-form")}},{key:"componentWillUnmount",value:function(){(0,u.resetCrmFrom)(this.props.dispatch)}},{key:"componentDidUpdate",value:function(e){if(e.crmForm&&this.props.crmForm&&e.crmForm.submitting&&!this.props.crmForm.submitting)if(this.props.crmForm.submitError){var t=this.props.crmForm.form.interfaceTexts||{},n=t.errorTitle||"Error",r=t.errorMessage||"Something went wrong, please try again!";this.setState({openModal:!0,success:!1,modalContent:{title:n,message:r}})}else{var a=this.props.crmForm.form.interfaceTexts||{},o=a.successTitle||"Thank you",l=a.successMessage||"Thanks for your ticket!";this.setState({openModal:!0,success:!0,modalContent:{title:o,message:l}})}}},{key:"render",value:function(){var e=this.props.crmForm,t=e.error,n=e.fetching,r=e.form,o=e.submitting,l=e.submitError,i=e.client,u=this.props.user;if(!u||!u.isAuthenticated)return a.default.createElement(m.default,null,a.default.createElement(h.default,null,a.default.createElement(g.default,{message:this.context.localize("authentication-required")})));if(t)return a.default.createElement(c.default,null,"Something went wrong, please try again: ",JSON.stringify(t));if(n)return a.default.createElement(s.default,null);var y=i&&r?i.ticketGroups.filter(function(e){return e.program.id===r.programID}).map(function(e){return{value:e.id,text:e.name}}):[],b=this.state,E=b.openModal,_=b.modalContent,k=(r.name,[]);return this.props.user.details.email&&(k.push({type:"EMAIL",value:this.props.user.details.email,readOnly:!0}),k.push({type:"FIRST_NAME",value:this.props.user.details.firstName,readOnly:!!this.props.user.details.firstName}),k.push({type:"LAST_NAME",value:this.props.user.details.lastName,readOnly:!!this.props.user.details.lastName})),a.default.createElement("div",{className:"crm-ticket-form"},a.default.createElement(m.default,null,a.default.createElement(h.default,null,a.default.createElement("br",null),a.default.createElement("br",null),y.length?a.default.createElement("div",null,a.default.createElement(v.default,{name:"group",placeholder:"Private only",label:"Share ticket with others in group?",onChange:this.onGroupSelect,options:y,handleStateExternally:!0,styletype:"filled",ariaLabel:"Select group",required:!1,value:this.state.group}),a.default.createElement("br",null)):null,a.default.createElement(d.default,{form:r,onSubmit:this.onSubmit,submitting:o,clearOnSubmitted:!l,autoFills:k}),a.default.createElement(f.default,{open:E,dialogActions:[a.default.createElement(p.default,{onClick:this.onCloseDialog},this.context.localize("continue"))],title:_.title,content:_.message,handleRequestClose:this.onCloseDialog}))))}}]),t}();b.contextTypes={localize:l.default.func,store:l.default.object,registerFetchAction:l.default.func},b.propTypes={ticketFormId:l.default.string.isRequired,crmForm:l.default.shape({error:l.default.any,fetching:l.default.bool.isRequired,submitting:l.default.bool.isRequired,submitResponse:l.default.any,submitError:l.default.any,form:l.default.shape({interfaceTexts:l.default.object}),client:l.default.any}).isRequired,dispatch:l.default.any.isRequired,user:l.default.shape({details:l.default.shape({email:l.default.string,firstName:l.default.string,lastName:l.default.string}).isRequired}).isRequired,location:l.default.object.isRequired,history:l.default.object.isRequired},t.default=(0,i.withRouter)((0,o.connect)(function(e){return{user:e.user,crmForm:e.crmForm}},function(e){return{dispatch:e}})(b))},1366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),o=s(n(1));n(214);var l=s(n(155)),i=s(n(39)),u=s(n(43)),c=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}n(1335);var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t=this.props,n=t.ticket,r=t.viewport,o=n.Client.email,s=n.statusClient,d=n.ticketGroup,f=d?d.name:null,p=[{property:{content:"Status"},value:{content:(e=s,e.replace(/_/g," ").toUpperCase())}},{property:{content:"Owner"},value:{content:o}}];return f&&p.push({property:{content:"Group"},value:{content:f||""}}),a.default.createElement("div",null,a.default.createElement(i.default,null,a.default.createElement(u.default,{width:"1/1",viewport:r},a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement(c.default,{tag:4},"Details"),a.default.createElement(l.default,{headings:[{key:"property",name:""},{key:"value",name:""}],showHeading:!1},p)))))}}]),t}();d.propTypes={ticket:o.default.shape({Client:o.default.shape({email:o.default.string.isRequired}),statusClient:o.default.string,ticketGroup:o.default.shape({name:o.default.string})}).isRequired,viewport:o.default.object},t.default=d},1367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=f(n(0)),o=f(n(1)),l=f(n(1343));n(214);var i=f(n(32)),u=f(n(39)),c=f(n(43)),s=f(n(306)),d=f(n(40));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n(1335);var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"getSortedTickets",value:function(e,t){var n=[].concat(p(e),p(t));return(n.length>0?n.sort(function(e,t){return t.createdAt-e.createdAt}):[]).map(function(e){return e.Fields&&e.Fields.length>0?e.Fields.map(function(t){var n=t.meta.value;return"CHECKBOX_GROUP"===t.type&&(Array.isArray(n)?n=t.meta.value.map(function(e){return""+e}).join(", "):"string"==typeof n&&(n=t.meta.value.replace(/,(\S)/g,", $1"))),{id:t.id,createdAt:e.createdAt,value:n,name:t.name,type:"client-reply"}}):{id:e.id,createdAt:e.createdAt,value:e.meta.text,name:e.name,type:"crm-reply",fieldType:e.type,attachement:e.meta.attachments}})}},{key:"getThreadsHtml",value:function(e){var t=this;return e.map(function(e){if("crm-reply"===e.type)return a.default.createElement("div",{className:"ticket--thread--colored",key:e.id},a.default.createElement(u.default,null,a.default.createElement(c.default,{width:"1/6",viewport:t.props.viewport},a.default.createElement("div",{className:"ticket--thread--icon"},a.default.createElement(s.default,{name:"headset",color:d.default.colors.colorLink}))),a.default.createElement(c.default,{width:"5/6",viewport:t.props.viewport},a.default.createElement("div",{className:"ticket--thread--main"},a.default.createElement("p",{className:"ticket--thread--date"},(0,l.default)(new Date(e.createdAt),"dS mmm yyyy HH:MM")),a.default.createElement("div",{className:"ticket--thread--text"},e.value),a.default.createElement("br",null),e.attachement&&e.attachement.length>0?e.attachement.map(function(e){return a.default.createElement("div",{key:e.key},a.default.createElement("a",{href:"/api/crm/get-attachment/"+e.key,download:!0},e.filename))}):[]))));var n=e.length>0?e.map(function(e){return e.createdAt}):[],r=e.length>0?e.map(function(e){return a.default.createElement("div",{className:"ticket--thread--text",key:e.id},a.default.createElement("span",{className:"ticket--single--details--bold"},e.name),Array.isArray(e.value)?e.value.map(function(e){return a.default.createElement("div",{key:e.key},a.default.createElement("a",{href:"/api/crm/get-attachment/"+e.key,download:!0},e.filename))}):a.default.createElement("div",{dangerouslySetInnerHTML:{__html:e.value},key:e.id}))}):[];return a.default.createElement("div",{className:"ticket--thread--white",key:n[0]},a.default.createElement(u.default,null,a.default.createElement(c.default,{width:"1/6",viewport:t.props.viewport},a.default.createElement("div",{className:"ticket--thread--icon"},a.default.createElement(s.default,{name:"customer-support",color:d.default.colors.colorLink}))),a.default.createElement(c.default,{width:"5/6",viewport:t.props.viewport},a.default.createElement("div",{className:"ticket--thread--main"},a.default.createElement("p",{className:"ticket--thread--date"},(0,l.default)(new Date(n[0]),"dS mmm yyyy HH:MM")),r))))})}},{key:"render",value:function(){var e=this.props,t=e.ticketReplies,n=e.ticketReplyForms,r=e.viewport,o=this.getSortedTickets(t,n),l=this.getThreadsHtml(o);return a.default.createElement("div",{className:"ticket"},a.default.createElement(u.default,null,a.default.createElement(c.default,{width:"1/1",viewport:r},a.default.createElement("br",null),l.length?a.default.createElement("div",null,a.default.createElement(i.default,{tag:4},"Ticket thread"),a.default.createElement("br",null),a.default.createElement("div",{className:"ticket--inner"},a.default.createElement("div",{className:"ticket--answers"},a.default.createElement("div",{className:"ticket--threads"},l)))):null)))}}]),t}();m.propTypes={viewport:o.default.object,ticketReplies:o.default.any,ticketReplyForms:o.default.any},t.default=m},1368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(0)),o=s(n(1));n(214);var l=s(n(155)),i=s(n(39)),u=s(n(43)),c=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}n(1335);var d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){}},{key:"getCompanySizeOptions",value:function(e){return{a:"<5",b:"5-20",c:"21-100",d:"101-1000",e:">1000"}[e]||"Unknown"}},{key:"render",value:function(){var e=this,t=this.props,n=t.ticketForm,r=t.viewport,o=n.Fields.length>0?n.Fields.map(function(t){var n=null;return"ATTACHMENTS"===t.type?n=Array.isArray(t.meta.value)&&t.meta.value.length>0?t.meta.value.map(function(e){return'<p><a href="/api/crm/get-attachment/'+e.key+'" download>'+e.filename+"</a></p>"}).join("\n"):"No attachment":"COMPANY_SIZE"===t.type?n=e.getCompanySizeOptions(t.meta.value):"CHECKBOX_GROUP"===t.type?Array.isArray(t.meta.value)?n=t.meta.value.map(function(e){return""+e}).join(", "):"string"==typeof t.meta.value&&(n=t.meta.value.replace(/,(\S)/g,", $1")):n="CHECKBOX"===t.type?"true"===t.meta.value?"Yes":"No":t.meta.value,{label:{content:t.name},value:{content:n}}}):[];return a.default.createElement("div",null,a.default.createElement(i.default,null,a.default.createElement(u.default,{width:"1/1",viewport:r},a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement(c.default,{tag:4},"Submission"),a.default.createElement(l.default,{className:"incidents--super-responsive-table",headings:[{key:"label",name:""},{key:"value",name:""}],showHeading:!1,setInnerHtml:!0},o)))))}}]),t}();d.propTypes={ticketForm:o.default.shape({id:o.default.string.isRequired,type:o.default.string.isRequired,name:o.default.string.isRequired,createdAt:o.default.number.isRequired,Fields:o.default.array.isRequired}).isRequired,viewport:o.default.object},t.default=d},1369:function(e,t){},1370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=m(n(0)),o=n(19),l=m(n(1)),i=n(33),u=n(494);n(214);var c=m(n(32)),s=m(n(21)),d=m(n(493)),f=m(n(68)),p=m(n(15));function m(e){return e&&e.__esModule?e:{default:e}}n(1369);var h=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.onSubmit=function(e){var t={ticketID:r.props.ticketID,attachments:e.attachments,payload:{args:{clientEmail:e.clientEmail,programID:e.programID,input:{formTemplateID:e.formTemplateID,fields:e.fields}}}};(0,u.submitCrmTicketReply)(t)(r.props.dispatch,r.context.store.getState())},r.onCloseDialog=function(){r.setState({openModal:!1},function(){r.props.onReply(r.state.success)})},r.state={openModal:!1,modalContent:{title:"",message:""}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillMount",value:function(){this.context.registerFetchAction((0,u.getCrmTicketReplyForm)(this.props.ticketReplyFormId),"fetch-crm-form")}},{key:"componentWillUnmount",value:function(){(0,u.resetCrmFrom)(this.props.dispatch)}},{key:"componentDidUpdate",value:function(e){if(e.crmForm&&this.props.crmForm&&e.crmForm.submitting&&!this.props.crmForm.submitting)if(this.props.crmForm.submitError){var t=this.props.crmForm.form.interfaceTexts||{},n=t.errorTitle||"Error",r=t.errorMessage||"Something went wrong, please try again!";this.setState({openModal:!0,success:!1,modalContent:{title:n,message:r}})}else{var a=this.props.crmForm.form.interfaceTexts||{},o=a.successTitle||"Thank you",l=a.successMessage||"Thanks for your reply!";this.setState({openModal:!0,success:!0,modalContent:{title:o,message:l}})}}},{key:"render",value:function(){var e=this.props.crmForm,t=e.error,n=e.fetching,r=e.form,o=e.submitting,l=e.submitError;if(t)return a.default.createElement(c.default,null,"Something went wrong, please try again: ",JSON.stringify(t));if(n)return a.default.createElement(s.default,null);var i=this.state,u=i.openModal,m=i.modalContent,h=[];return this.props.user.details.email&&h.push({type:"EMAIL",value:this.props.user.details.email,readOnly:!0}),a.default.createElement("div",{className:"crm-ticket-reply-form"},a.default.createElement(c.default,{tag:4},"Send ticket reply"),a.default.createElement("br",null),a.default.createElement(d.default,{isTicketReply:!0,form:r,onSubmit:this.onSubmit,submitting:o,clearOnSubmitted:!l,autoFills:h}),a.default.createElement(f.default,{open:u,dialogActions:[a.default.createElement(p.default,{onClick:this.onCloseDialog,key:"cont"},this.context.localize("continue"))],title:m.title,content:m.message,handleRequestClose:this.onCloseDialog}))}}]),t}();h.contextTypes={localize:l.default.func,store:l.default.object,registerFetchAction:l.default.func},h.propTypes={ticketID:l.default.string.isRequired,ticketReplyFormId:l.default.string.isRequired,crmForm:l.default.shape({error:l.default.any,fetching:l.default.bool.isRequired,submitting:l.default.bool.isRequired,submitResponse:l.default.any,submitError:l.default.any,form:l.default.shape({interfaceTexts:l.default.object})}).isRequired,dispatch:l.default.any.isRequired,user:l.default.shape({details:l.default.shape({email:l.default.string}).isRequired}).isRequired,onReply:l.default.func.isRequired},t.default=(0,i.withRouter)((0,o.connect)(function(e){return{user:e.user,crmForm:e.crmForm}},function(e){return{dispatch:e}})(h))},1371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCHED_CRM_TICKET_FAILED=t.FETCHED_CRM_TICKET_OK=t.FETCHING_CRM_TICKET=void 0,t.getCrmTicket=function(e){return t=regeneratorRuntime.mark(function t(n,i,u){var c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.settings.apiUrl+"/crm/get-crm-ticket/"+e,t.prev=1,n({type:a}),t.next=5,(0,r.fetchResource)(c,u);case 5:s=t.sent,n({type:o,ticket:s.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:l,error:t.t0});case 12:case"end":return t.stop()}},t,this,[[1,9]])}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,o){try{var l=e[a](o),i=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t,r){return n.apply(this,arguments)};var t,n};var r=n(24),a=t.FETCHING_CRM_TICKET="FETCHING_CRM_TICKET",o=t.FETCHED_CRM_TICKET_OK="FETCHED_CRM_TICKET_OK",l=t.FETCHED_CRM_TICKET_FAILED="FETCHED_CRM_TICKET_FAILED"},1372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=k(n(0)),o=n(19),l=k(n(1)),i=n(33),u=n(1371),c=k(n(43)),s=k(n(21)),d=k(n(32)),f=k(n(15)),p=k(n(39)),m=k(n(68)),h=k(n(154)),v=k(n(137));n(214);var g=k(n(1370)),y=k(n(1368)),b=k(n(1367)),E=n(24),_=k(n(1366));function k(e){return e&&e.__esModule?e:{default:e}}function w(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(a,o){try{var l=t[a](o),i=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});e(i)}("next")})}}n(1335);var T=function(e){function t(e,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return l.onDeleteClicked=function(){var e=[a.default.createElement(f.default,{onClick:w(regeneratorRuntime.mark(function e(){var t,n,o,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.setState({isDeleting:!0,openModal:!1}),t=l.context.store.getState(),n=t.settings.apiUrl+"/crm/client-delete-ticket",o=l.props.crmTicket,i=o.ticket.data,e.prev=5,e.next=8,(0,E.postResource)(n,{ticketID:i.id});case 8:l.setState({openModal:!0,isDeleting:!1,modalContent:{title:"Success",message:"Ticket has been deleted."},dialogActions:[a.default.createElement(f.default,{onClick:function(){l.setState({openModal:!1}),setTimeout(function(){var e=l.props.location.pathname,t=e.substring(0,e.lastIndexOf("/"));l.props.history.replace(t)},100)}},l.context.localize("continue"))]}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),l.setState({openModal:!0,isDeleting:!1,modalContent:{title:"Error",message:"Could not delete ticket. Please reload page and try again."},dialogActions:[a.default.createElement(f.default,{onClick:function(){l.setState({openModal:!1})}},l.context.localize("continue"))]});case 14:case"end":return e.stop()}},e,r,[[5,11]])}))},"Yes"),a.default.createElement(f.default,{onClick:function(){l.setState({openModal:!1})}},"No")];l.setState({openModal:!0,dialogActions:e,modalContent:{title:"Delete ticket?",message:"Are you sure that you want to delete this ticket?"}})},l.onGroupChange=(o=w(regeneratorRuntime.mark(function e(t){var n,o,i,c,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.props.crmTicket,o=n.ticket.data,i=l.context.store.getState(),c=i.settings.apiUrl+"/crm/set-crm-ticket-group",l.setState({isChanging:!0}),s={payload:{args:{ticketID:o.id,groupID:t}}},e.prev=6,e.next=9,(0,E.postResource)(c,s);case 9:l.setState({openModal:!0,isChanging:!1,modalContent:{title:"Success",message:"Ticket group has been changed."},dialogActions:[a.default.createElement(f.default,{onClick:function(){l.setState({openModal:!1})}},l.context.localize("continue"))]},function(){l.context.registerFetchAction((0,u.getCrmTicket)(o.id))}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),l.setState({openModal:!0,isChanging:!1,modalContent:{title:"Error",message:"Could not change ticket group. Please reload page and try again."},dialogActions:[a.default.createElement(f.default,{onClick:function(){l.setState({openModal:!1})}},l.context.localize("continue"))]});case 15:case"end":return e.stop()}},e,r,[[6,12]])})),function(e){return o.apply(this,arguments)}),l.onGroupSelect=function(e){var t=e.target.value||null,n=[a.default.createElement(f.default,{onClick:function(){return l.onGroupChange(t)}},"Yes"),a.default.createElement(f.default,{onClick:function(){l.setState({openModal:!1})}},"No")];l.setState({openModal:!0,dialogActions:n,modalContent:{title:"Change ticket group?",message:"Are you sure that you want to change this ticket?"}})},l.onTicketReply=function(e){if(e){var t=location.href.split("/"),n=t[t.length-1];l.context.registerFetchAction((0,u.getCrmTicket)(n))}},l.state={isDeleting:!1,isChanging:!1,openModal:!1,success:null,dialogActions:null,modalContent:{title:"",message:""}},l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,null,[{key:"vcConvertToProps",value:function(e){return{viewport:e.viewport}}}]),r(t,[{key:"componentDidMount",value:function(){var e=location.href.split("/"),t=e[e.length-1];this.context.registerFetchAction((0,u.getCrmTicket)(t))}},{key:"getDialog",value:function(){var e=this.state,t=e.openModal,n=e.dialogActions,r=e.modalContent;return a.default.createElement(m.default,{open:t,title:r.title,content:r.message,dialogActions:n})}},{key:"render",value:function(){var e=this.props,t=e.crmTicket,n=e.path,r=e.user;if(!r||!r.isAuthenticated)return a.default.createElement(p.default,null,a.default.createElement(c.default,null,a.default.createElement(v.default,{message:this.context.localize("authentication-required")})));var o=this.state,l=o.isDeleting,i=o.isChanging,u=n.substring(0,n.lastIndexOf("/"));if(t.error)return a.default.createElement(d.default,null,"Something went wrong fetching you ticket. Please try again by reloading the page.");if(t.fetching)return a.default.createElement(s.default,null);var m=t.ticket.data,E=m.TicketForm,k=m.TicketReplies,w=m.TicketReplyForms,T=m.statusClient,S=this.props.ticketReplyFormId,C=m.Client.ticketGroups.filter(function(e){return e.program.id===m.program.id}).map(function(e){return{value:e.id,text:e.name}}),P=r.details.email==m.Client.email,M=P&&"CLOSED"!=T,O=this.getDialog();return a.default.createElement("div",{className:"ticket"},a.default.createElement(p.default,null,a.default.createElement(c.default,{width:"1/1"},a.default.createElement(f.default,{className:"ticket--back-button",linkTo:u,size:"small"},"Back to tickets"),M&&!l?a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement(f.default,{disabled:l,onClick:this.onDeleteClicked,size:"small",type:"secondary"},"Delete ticket")):null,M&&l||i?a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement(s.default,{slim:!0})):null,P&&C.length?a.default.createElement("div",null,a.default.createElement(h.default,{name:"group",disabled:i,placeholder:"Private only",label:"Share ticket with others in group?",onChange:this.onGroupSelect,options:C,handleStateExternally:!0,styletype:"filled",ariaLabel:"Select group",required:!1,value:m.ticketGroup?m.ticketGroup.id:""}),a.default.createElement("br",null)):null,a.default.createElement(_.default,{ticket:m,viewport:this.props.viewport}),a.default.createElement(y.default,{ticketForm:E}),"CLOSED"!==T?a.default.createElement(g.default,{ticketReplyFormId:S,ticketID:m.id,onReply:this.onTicketReply}):null,a.default.createElement(b.default,{ticketReplies:k,ticketReplyForms:w}),O)))}}]),t}();T.contextTypes={localize:l.default.func,store:l.default.object,registerFetchAction:l.default.func},T.propTypes={ticketReplyFormId:l.default.string.isRequired,dispatch:l.default.func,match:l.default.object,location:l.default.object,history:l.default.object,user:l.default.object,path:l.default.string,incidents:l.default.object,viewport:l.default.object,crmTicket:l.default.shape({error:l.default.any,fetching:l.default.bool.isRequired,ticket:l.default.any}).isRequired};var S=(0,i.withRouter)((0,o.connect)(function(e){return{user:e.user,crmTicket:e.crmTicket}},function(e){return{dispatch:e}})(T));t.default=S},1373:function(e,t){},1374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FETCHED_CRM_TICKETS_FAILED=t.FETCHED_CRM_TICKETS_OK=t.FETCHING_CRM_TICKETS=void 0,t.getCrmTickets=function(e){return t=regeneratorRuntime.mark(function t(n,i,u){var c,s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.settings.apiUrl+"/crm/get-crm-tickets/"+e,t.prev=1,n({type:a}),t.next=5,(0,r.fetchResource)(c,u);case 5:s=t.sent,n({type:o,tickets:s.ticket.data.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n({type:l,error:t.t0});case 12:case"end":return t.stop()}},t,this,[[1,9]])}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,o){try{var l=e[a](o),i=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t,r){return n.apply(this,arguments)};var t,n};var r=n(24),a=t.FETCHING_CRM_TICKETS="FETCHING_CRM_TICKETS",o=t.FETCHED_CRM_TICKETS_OK="FETCHED_CRM_TICKETS_OK",l=t.FETCHED_CRM_TICKETS_FAILED="FETCHED_CRM_TICKETS_FAILED"},1375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=g(n(0)),o=n(19),l=g(n(1)),i=n(33),u=n(1374),c=g(n(22)),s=g(n(15)),d=g(n(43)),f=g(n(21)),p=g(n(32)),m=g(n(39)),h=g(n(155)),v=g(n(137));function g(e){return e&&e.__esModule?e:{default:e}}n(214),n(1373);var y=n(1343),b=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.historyPushRelative=function(e,t){var n=e;return n.endsWith("/")?n+=t:n+="/"+t,n},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,null,[{key:"vcConvertToProps",value:function(e){return{viewport:e.viewport}}}]),r(t,[{key:"componentWillMount",value:function(){this.context.registerFetchAction((0,u.getCrmTickets)(this.props.programId))}},{key:"render",value:function(){var e=this,t=this.props,n=t.crmTickets;if(!t.user.isAuthenticated)return a.default.createElement(m.default,null,a.default.createElement(d.default,null,a.default.createElement(v.default,{message:this.context.localize("authentication-required")})));if(n.error)return a.default.createElement(p.default,null,"Something went wrong, please try again: ",JSON.stringify(n.error));if(n.fetching)return a.default.createElement(f.default,null);var r=n.tickets.tickets,o=n.tickets.groups,l=[{key:"TicketTitle",name:"Title"},{key:"createdTime",name:"Created Time"},{key:"email",name:"Email"},{key:"status",name:"Status"}],i=function(t){return t.sort(function(e,t){return t.createdAt-e.createdAt}).map(function(t){var n,r=e.historyPushRelative(e.props.path,t.id),o="No title available";if(t.TicketForm.Fields.length>0){var l=t.TicketForm.Fields.find(function(e){return"TITLE"==e.type});l&&(o=l.meta.value)}return{TicketTitle:{content:a.default.createElement(c.default,{to:r},o)},createdTime:{content:t.createdAt?y(new Date(t.createdAt),"dS mmm yyyy"):null},email:{content:t.Client.email},shared:{content:t.ticketGroup?t.ticketGroup.name:""},status:{content:t.statusClient?(n=t.statusClient,n.replace(/_/g," ").toUpperCase()):null}}})},u=i(r),g=o.map(function(e){return{id:e.id,name:e.name,ticketSource:i(e.tickets)}}),b=this.historyPushRelative(this.props.location.pathname,"create");return a.default.createElement("div",{className:"tickets"},a.default.createElement(m.default,null,a.default.createElement(d.default,{viewport:this.props.viewport,size:"1/1"},a.default.createElement("div",{className:"tickets--inner"},a.default.createElement("div",{className:"incidents--button-container"},a.default.createElement(s.default,{size:"small",linkTo:b},this.context.localize("create-ticket"))),u.length>0?a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement(p.default,{tag:4},"Own tickets"),a.default.createElement(h.default,{className:"incidents--super-responsive-table",headings:[{key:"TicketTitle",name:"Title"},{key:"createdTime",name:"Created Time"},{key:"shared",name:"Shared"},{key:"status",name:"Status"}],pagination:!0},u)):a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement(p.default,{tag:4},this.context.localize("no-own-tickets"))),g.map(function(t){return a.default.createElement("div",{key:t.id},a.default.createElement("br",null),a.default.createElement(p.default,{tag:4},"Group: "+t.name),t.ticketSource.length>0?a.default.createElement("div",null,a.default.createElement(h.default,{className:"incidents--super-responsive-table",headings:l,pagination:!0},t.ticketSource)):a.default.createElement("div",null,a.default.createElement("br",null),a.default.createElement(p.default,{tag:5},e.context.localize("no-group-tickets"))))})))))}}]),t}();b.contextTypes={localize:l.default.func,store:l.default.object,registerFetchAction:l.default.func},b.propTypes={dispatch:l.default.func,match:l.default.object,location:l.default.object,history:l.default.object,user:l.default.object,path:l.default.string,incidents:l.default.object,programId:l.default.number.isRequired,viewport:l.default.object,crmTickets:l.default.shape({error:l.default.any,fetching:l.default.bool.isRequired,tickets:l.default.any}).isRequired};var E=(0,i.withRouter)((0,o.connect)(function(e){return{user:e.user,crmTickets:e.crmTickets}},function(e){return{dispatch:e}})(b));t.default=E},1376:function(e,t){},1377:function(e,t){},1378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(0)),a=d(n(1)),o=d(n(39)),l=d(n(43)),i=d(n(32)),u=d(n(44)),c=d(n(490)),s=d(n(1340));function d(e){return e&&e.__esModule?e:{default:e}}n(1377);var f=function(e){var t=e.sdkContent,n=e.path,a=e.viewport,d=e.pageContent,f=e.prefix,p=void 0,m=n.replace(/\/$/,"").split("/").length;if(1===m){var h=function e(t,n){return t.map(function(t){return{post_title:t.friendlyName,original_title:t.name,shortComment:t.shortComment,post_id:t.permalink||Math.random().toString(),permalink:n+t.permalink,active:t.active,children:t.children?e(t.children,n):[]}})}(t.packages,f).map(function(e){return r.default.createElement(s.default,{key:e.permalink,to:e.permalink,title:e.original_title,description:e.shortComment})});p=r.default.createElement("div",{className:"sdk-documentation-page--content"},r.default.createElement(c.default,{content:d.vc_content,viewport:a}),r.default.createElement(o.default,null,r.default.createElement(l.default,{width:"1/1",viewport:a},r.default.createElement(u.default,{paddingTop:0},h))))}else if(2===m){var v=Object.keys(t.types).map(function(e){var n=t.types[e].map(function(e){var t=f,n=e.shortComment||"";return n=n.replace(/<a href="(?!http)(?!#)/g,'<a data-react-click="catch-click" href="'+t),r.default.createElement(s.default,{key:e.permalink,to:f+e.permalink,title:e.name,description:n})});return r.default.createElement("div",{key:e,className:"sdk-documentation-page--section"},r.default.createElement(i.default,{tag:3},e),r.default.createElement("div",null,n))}),g=t.content.comment?t.content.comment.replace(/<a href="(?!http)(?!#)/g,'<a data-react-click="catch-click" href="'+f):"";p=r.default.createElement(o.default,null,r.default.createElement(l.default,{width:"1/1",viewport:a},r.default.createElement("div",{className:"sdk-documentation-page--content-inner"},r.default.createElement(i.default,{wordbreak:!0,tag:2},t.content.name),r.default.createElement(u.default,{noPadding:!0,showCode:!0},g),v)))}else if(3===m){var y=t.type.fields?t.type.fields.map(function(e){var t=e.comment?e.comment.replace(/<a href="(?!http)(?!#)/g,'<a data-react-click="catch-click" href="'+f):"";return r.default.createElement("div",{className:"sdk-documentation-page--content-inner-item",key:e.name},r.default.createElement("a",{name:e.name}),r.default.createElement(i.default,{tag:5,marginBottom:"small"},e.name),r.default.createElement(u.default,{noPadding:!0,showCode:!0},t))}):null,b=f,E=t.type.comment?t.type.comment.replace(/<a href="(?!http)(?!#)/g,'<a data-react-click="catch-click" href="'+b):"No description";p=r.default.createElement("div",{className:"sdk-documentation-page--content-inner"},r.default.createElement(i.default,{tag:1,className:"sdk-documentation-page--content-title"},t.type.type),r.default.createElement(u.default,{noPadding:!0,showCode:!0},E),y)}return r.default.createElement("div",{className:"sdk-documentation-java"},p)};f.propTypes={content:a.default.object,pageContent:a.default.object,prefix:a.default.string,viewport:a.default.object},t.default=f},1379:function(e,t){},1380:function(e,t){},1381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(32)),o=i(n(1340)),l=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}n(1380);var u=function(e){var t=e.content;if(!t||0===t.length)return r.default.createElement("div",null);var n=t.map(function(t,n){return r.default.createElement(o.default,{key:t.reference.name+n,to:e.prefix+t.reference.permalink,title:t.reference.name,description:t.description})});return r.default.createElement("div",{className:"sdk-documentation-rest-related"},r.default.createElement(a.default,{marginTop:"large",tag:2},"Related:"),r.default.createElement("hr",null),n)};u.propTypes={content:l.default.array,prefix:l.default.string},t.default=u},1382:function(e,t){},1383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=u(n(1)),o=u(n(310)),l=u(n(32)),i=u(n(1339));function u(e){return e&&e.__esModule?e:{default:e}}n(1382);var c=function(e){var t=e.content;if(!t)return r.default.createElement("div",null);var n=t.notifications&&t.notifications[0]&&t.notifications[0].parameters&&t.notifications[0].parameters.length?t.notifications.map(function(e,t){return r.default.createElement(i.default,{key:t,list:e.parameters})}):null,a=t.example?r.default.createElement("div",{className:"sdk-documentation-rest-notification--example"},t.example.map(function(e,t){return r.default.createElement("div",{key:t},r.default.createElement(l.default,{tag:"5"},"Example ",t+1,":"),r.default.createElement("div",{className:"sdk-documentation-rest-notification--example-description"},e.description),r.default.createElement(o.default,{noInnerPadding:!0,language:"json"},e.json))})):null;return r.default.createElement("div",{className:"sdk-documentation-rest-notification"},r.default.createElement("hr",null),r.default.createElement(l.default,{marginTop:"large",tag:2},"Notification:"),r.default.createElement("div",{className:"sdk-documentation-rest-notification--description"},t.description),n&&n.length>0?r.default.createElement(l.default,{tag:3},"Parameters:"):null,n,a)};c.propTypes={content:a.default.object},t.default=c},1384:function(e,t){},1385:function(e,t){},1386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(44)),o=i(n(32)),l=i(n(1));function i(e){return e&&e.__esModule?e:{default:e}}n(1385);var u=function(e){var t=e.content,n=t.error_codes?t.error_codes.map(function(e){return r.default.createElement("div",{key:e.code},r.default.createElement(o.default,{tag:6},"Code ",e.code),r.default.createElement("div",{className:"sdk-documenation-rest-errors--explanation"},e.explanation))}):null;return r.default.createElement("div",{className:"sdk-documenation-rest-errors"},r.default.createElement(o.default,{tag:3},"Errors:"),r.default.createElement(a.default,{className:"sdk-documenation-rest-errors--description"},t.description),n)};u.propTypes={content:l.default.object},t.default=u},1387:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(0)),a=c(n(310)),o=c(n(32)),l=c(n(1339)),i=c(n(1386)),u=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}n(1384);var s=function(e){var t=e.content;if(!t)return r.default.createElement("div",null);var n=t.responses&&t.responses[0]&&t.responses[0].parameters&&t.responses[0].parameters.length?t.responses.map(function(e,t){return r.default.createElement(l.default,{key:t,list:e.parameters})}):null,u=t.example?r.default.createElement("div",{className:"sdk-documentation-rest-response--example"},t.example.map(function(e,t){return r.default.createElement("div",{key:t},r.default.createElement(o.default,{tag:5},"Example ",t+1,":"),r.default.createElement("div",{className:"sdk-documentation-rest-response--example-description"},e.description),r.default.createElement(a.default,{noInnerPadding:!0,language:"json"},e.json))})):null,c=void 0;return t.error&&(c=r.default.createElement(i.default,{content:t.error})),r.default.createElement("div",{className:"sdk-documentation-rest-response"},r.default.createElement(o.default,{marginTop:"large",tag:2},"Response:"),r.default.createElement("hr",null),r.default.createElement("div",{className:"sdk-documentation-rest-response--description"},t.description),n&&n.length>0?r.default.createElement(o.default,{tag:3},"Parameters:"):null,n,u,c)};s.propTypes={content:u.default.object},t.default=s},1388:function(e,t){},1389:function(e,t){},1390:function(e,t){},1391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(0)),a=l(n(1)),o=l(n(44));function l(e){return e&&e.__esModule?e:{default:e}}n(1390);var i=function(e){var t={name:1,description:2,type:3,multiplicity:4,default:5,sub_parameter:6},n=Object.keys(e.parameter).filter(function(e){return t[e]});n.sort(function(e,n){return t[e]>t[n]});var a=n.map(function(n,a){var l=void 0,i=void 0;return"sub_parameter"!==n?(i=n,l=r.default.createElement(o.default,{showCode:!0,noPadding:!0},e.parameter[n])):(i="object parameters",l=e.parameter[n].map(function(e,n){var a=Object.keys(e);a.sort(function(e,n){return t[e]>t[n]});var l=a.map(function(t,n){return r.default.createElement("div",{key:t+n,className:"parameter--pair"},r.default.createElement("label",{className:"parameter--label"},t,":"),r.default.createElement(o.default,{showCode:!0,noPadding:!0},e[t]))});return r.default.createElement("div",{className:"parameter--sub",key:n},l,r.default.createElement("hr",null))})),r.default.createElement("div",{key:n+a,className:"parameter--pair"},r.default.createElement("label",{className:"parameter--label"},i,":"),r.default.createElement("div",null,l))});return r.default.createElement("div",{className:"parameter"},a)};i.propTypes={parameter:a.default.object},t.default=i},1392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(0)),a=u(n(310)),o=u(n(32)),l=u(n(1339)),i=u(n(1));function u(e){return e&&e.__esModule?e:{default:e}}n(1388);var c=function(e){var t=e.content;if(!t)return r.default.createElement("div",null);var n=t.requests&&t.requests[0]&&t.requests[0].parameters&&t.requests[0].parameters.length?t.requests.map(function(e,t){return r.default.createElement(l.default,{key:t,list:e.parameters})}):null,i=t.example?r.default.createElement("div",{className:"sdk-documentation-rest-request--example"},t.example.map(function(e,t){return r.default.createElement("div",{key:t},r.default.createElement(o.default,{tag:"5"},"Example ",t+1,":"),r.default.createElement("div",{className:"sdk-documentation-rest-request--example-description"},e.description),r.default.createElement(a.default,{noInnerPadding:!0,language:"json"},e.json))})):null;return r.default.createElement("div",{className:"sdk-documentation-rest-request"},r.default.createElement("hr",null),r.default.createElement(o.default,{marginTop:"large",tag:2},"Request:"),r.default.createElement("div",{className:"sdk-documentation-rest-request--description"},t.description),n&&n.length>0?r.default.createElement(o.default,{tag:3},"Parameters:"):null,n,i)};c.propTypes={content:i.default.object},t.default=c},1393:function(e,t){},1394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(0)),a=p(n(1)),o=p(n(32)),l=p(n(44)),i=p(n(490)),u=p(n(1340)),c=p(n(1392)),s=p(n(1387)),d=p(n(1383)),f=p(n(1381));function p(e){return e&&e.__esModule?e:{default:e}}n(1379);var m=function(e){var t=e.content.content,n=e.content.endpoints,a=e.viewport,p=e.pageContent,m=e.prefix,h=void 0;if(t&&!e.content.root){var v=t.supported.map(function(e){return r.default.createElement("div",{key:e,className:"sdk-documentation-rest--support-item"},e)});h=r.default.createElement("div",null,r.default.createElement("div",{className:"sdk-documentation-rest--inner"},r.default.createElement(o.default,{tag:1},t.name," (",t.version,")"),r.default.createElement(l.default,{noPadding:!0},t.description),r.default.createElement("hr",null),r.default.createElement("div",{className:"sdk-documentation-rest--lib"},"Library: ",t.lib),r.default.createElement("div",{className:"sdk-documentation-rest--version"},"Version: ",t.version),r.default.createElement("div",{className:"sdk-documentation-rest--support"},"Supported by: ",v),r.default.createElement("div",{className:"sdk-documentation-rest--path"},r.default.createElement(o.default,{marginBottom:"small",tag:3},"Endpoint:"),r.default.createElement("div",{className:"sdk-documentation-rest--path-endpoint"},"/",t.path)),r.default.createElement(f.default,{prefix:m,content:t.related_api}),r.default.createElement(c.default,{content:t.request}),r.default.createElement(s.default,{content:t.response}),r.default.createElement(d.default,{content:t.notification})))}else{var g=n.map(function(e){return r.default.createElement(u.default,{key:e.permalink,to:m+e.permalink,title:e.friendlyName,description:e.description})});h=r.default.createElement("div",null,r.default.createElement(i.default,{content:p.vc_content,viewport:a}),r.default.createElement("div",{className:"sdk-documentation-rest--inner"},g))}return r.default.createElement("div",{className:"sdk-documentation-rest"},h)};m.propTypes={content:a.default.object,pageContent:a.default.object,prefix:a.default.string,viewport:a.default.object},t.default=m},1395:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SET_DOCUMENTATION_SUB_MENU_ITEM_AS_ACTIVE=t.SDK_DOCUMENTATION_PAGE_NOT_FOUND=t.ACTIVATE_SDK_DOCUMENTATION_PAGE=t.RECEIVE_SDK_DOCUMENTATION_PAGE=t.REQUEST_SDK_DOCUMENTATION_PAGE=void 0,t.setSubMenuItemAsActive=function(e){return function(t){t({type:c,subMenuItemSlug:e})}},t.fetchSdkDocumentationPage=function(e){return t=regeneratorRuntime.mark(function t(n,o,l){var i,u,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o.settings.apiUrl+"/sdk-documentation/"+e,!o.sdkDocumentation.loading){t.next=3;break}return t.abrupt("return",!0);case 3:if(n(s(e)),!(u=o.sdkDocumentation.list[e])){t.next=8;break}return u.content&&u.content.friendlyName&&n((0,a.setTitle)(u.content.friendlyName,-1)),t.abrupt("return",n(d(e)));case 8:return t.prev=8,t.next=11,(0,r.fetchResource)(i,l);case 11:return(c=t.sent).content&&c.content.friendlyName&&n((0,a.setTitle)(c.content.friendlyName,-1)),n(f(e,c)),t.abrupt("return",Promise.resolve());case 17:throw t.prev=17,t.t0=t.catch(8),n(p(e)),t.t0;case 21:case"end":return t.stop()}},t,this,[[8,17]])}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,o){try{var l=e[a](o),i=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})},function(e,t,r){return n.apply(this,arguments)};var t,n};var r=n(24),a=n(158),o=t.REQUEST_SDK_DOCUMENTATION_PAGE="REQUEST_SDK_DOCUMENTATION_PAGE",l=t.RECEIVE_SDK_DOCUMENTATION_PAGE="RECEIVE_SDK_DOCUMENTATION_PAGE",i=t.ACTIVATE_SDK_DOCUMENTATION_PAGE="ACTIVATE_SDK_DOCUMENTATION_PAGE",u=t.SDK_DOCUMENTATION_PAGE_NOT_FOUND="SDK_DOCUMENTATION_PAGE_NOT_FOUND",c=t.SET_DOCUMENTATION_SUB_MENU_ITEM_AS_ACTIVE="SET_DOCUMENTATION_SUB_MENU_ITEM_AS_ACTIVE";function s(e){return{type:o,slug:e}}function d(e){return{type:i,slug:e}}function f(e,t){return{type:l,slug:e,payload:t}}function p(e){return{type:u,slug:e}}},1396:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(19),o=m(n(0)),l=m(n(1)),i=n(1395),u=n(24),c=m(n(21)),s=m(n(114)),d=m(n(1344)),f=m(n(1394)),p=m(n(1378));function m(e){return e&&e.__esModule?e:{default:e}}n(1376);var h=function(t){function n(e){return function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o.default.Component),r(n,[{key:"componentWillMount",value:function(){var e=this.props.page;(0,u.shouldFetch)(e,this.props.path)&&this.context.registerFetchAction((0,i.fetchSdkDocumentationPage)(this.props.path),"fetch-sdk-documentation-page")}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.page;(0,u.shouldFetch)(t,e.path)&&(0,i.fetchSdkDocumentationPage)(this.props.path)(this.props.dispatch,this.context.store.getState()),this.overrideLinks()}},{key:"componentDidMount",value:function(){this.overrideLinks()}},{key:"decorateSubMenu",value:function(e,t){var n=this;return e.map(function(e){return{post_title:e.friendlyName,original_title:e.name,shortComment:e.shortComment,post_id:e.permalink||Math.random().toString(),permalink:t+e.permalink,active:e.active,children:e.children?n.decorateSubMenu(e.children,t):[],post_name:e.name}})}},{key:"overrideLinks",value:function(){var t=this;"browser"===e.title&&setTimeout(function(){var e=t.props.history;document.querySelectorAll("a[data-react-click]").forEach(function(t){t.hasBeenOverriden||(t.addEventListener("click",function(t){t.preventDefault();var n=this.getAttribute("href");e.push(n)}),t.hasBeenOverriden=!0)})},0)}},{key:"activateMenuItem",value:function(e){(0,i.setSubMenuItemAsActive)(e)(this.props.dispatch)}},{key:"render",value:function(){var e=this.props,t=e.activeUrl,n=e.viewport,r=e.page,a=e.rootPath,l=e.path;if(r&&r.error)return o.default.createElement(s.default,{error:r.error});if(!r||r.loading||!r.content)return o.default.createElement(c.default,null);var i=void 0,u=[{active:!1,permalink:a,friendlyName:this.props.pageContent.post_title,post_title:this.props.pageContent.post_title,root:!0,children:[],post_id:"root",post_name:this.props.pageContent.post_title}];return"json-rest"===r.content.info.type?(u=u.concat(this.decorateSubMenu(r.content.endpoints,a)),i=o.default.createElement(f.default,{prefix:a,viewport:n,pageContent:this.props.pageContent,content:r.content})):(u=u.concat(this.decorateSubMenu(r.content.packages,a)),i=o.default.createElement(p.default,{path:l,prefix:a,viewport:n,pageContent:this.props.pageContent,sdkContent:r.content})),o.default.createElement("div",{className:"sdk-documentation-page"},o.default.createElement(d.default,{history:this.props.history,activeUrl:t,viewport:n,subMenu:u,activateMenuItem:this.activateMenuItem.bind(this)},i))}}]),n}();h.propTypes={page:l.default.object,pageContent:l.default.object,match:l.default.object,dispatch:l.default.func,history:l.default.object,viewport:l.default.object,path:l.default.string,rootPath:l.default.string,activeUrl:l.default.string,documentationPrefix:l.default.string},h.contextTypes={store:l.default.object,registerFetchAction:l.default.func};var v=(0,a.connect)(function(e,t){return{page:e.sdkDocumentation.list[t.path],viewport:e.viewport}},function(e){return{dispatch:e}})(h);t.default=v}).call(this,n(23))},1397:function(e,t){},1398:function(e,t){},1399:function(e,t,n){var r=n(80);r(r.S+r.F*!n(81),"Object",{defineProperty:n(82).f})},1400:function(e,t,n){n(1399);var r=n(57).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},1401:function(e,t,n){e.exports={default:n(1400),__esModule:!0}},1402:function(e,t,n){"use strict";t.__esModule=!0;var r,a=(r=n(1401))&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,a.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},1403:function(e,t,n){var r=n(80),a=n(57),o=n(116);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],l={};l[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",l)}},1404:function(e,t,n){var r=n(217),a=n(495);n(1403)("getPrototypeOf",function(){return function(e){return a(r(e))}})},1405:function(e,t,n){n(1404),e.exports=n(57).Object.getPrototypeOf},1406:function(e,t,n){e.exports={default:n(1405),__esModule:!0}},1407:function(e,t,n){"use strict";n.r(t);var r=n(1406),a=n.n(r),o=n(241),l=n.n(o),i=n(1402),u=n.n(i),c=n(240),s=n.n(c),d=n(233),f=n.n(d),p=n(0),m=n.n(p),h=n(200),v=function(e){for(var t=e;t=t.offsetParent;){var n=getComputedStyle(t,null).getPropertyValue("overflow-y");if("auto"===n||"scroll"===n)return t}return window},g=function(e,t){var n=e,r=0;do{r+=n.offsetTop,n=n.offsetParent}while(n&&n!==t);return r},y=null;"undefined"!=typeof CSS&&CSS.supports&&(CSS.supports("position","sticky")?y="sticky":CSS.supports("position","-webkit-sticky")&&(y="-webkit-sticky"));var b=function(e){function t(){var e,n,r,o;l()(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=r=s()(this,(e=t.__proto__||a()(t)).call.apply(e,[this].concat(u))),r.registerContainerRef=function(e){y&&(r.node=e,e?(r.scrollPane=v(r.node),r.latestScrollY=r.scrollPane===window?window.scrollY:r.scrollPane.scrollTop,r.scrollPane.addEventListener("scroll",r.handleScroll),r.scrollPane.addEventListener("mousewheel",r.handleScroll),r.scrollPane===window?(window.addEventListener("resize",r.updateViewport),r.updateViewport()):(r.rosp=new h.a(r.updateScrollPane),r.rosp.observe(r.scrollPane),r.updateScrollPane()),r.ropn=new h.a(r.updateParentNode),r.ropn.observe(r.node.parentNode),r.updateParentNode(),r.ron=new h.a(r.updateNode),r.ron.observe(r.node),r.updateNode(),r.initial()):(r.scrollPane.removeEventListener("mousewheel",r.handleScroll),r.scrollPane.removeEventListener("scroll",r.handleScroll),r.scrollPane===window?window.removeEventListener("resize",r.getMeasurements):r.rosp.disconnect(),r.ropn.disconnect(),r.ron.disconnect(),r.scrollPane=null))},r.updateViewport=function(){r.viewPortHeight=window.innerHeight,r.scrollPaneOffset=0},r.updateScrollPane=function(){r.viewPortHeight=r.scrollPane.offsetHeight,r.scrollPaneOffset=r.scrollPane.getBoundingClientRect().top},r.updateParentNode=function(){var e=r.node.parentNode,t=getComputedStyle(e,null),n=parseInt(t.getPropertyValue("padding-top"),10),a=n+parseInt(t.getPropertyValue("padding-bottom"),10);r.naturalTop=g(e,r.scrollPane)+n+r.scrollPaneOffset,r.parentHeight=e.getBoundingClientRect().height-a},r.updateNode=function(){r.nodeHeight=r.node.getBoundingClientRect().height},r.handleScroll=function(){var e=r.props.offset,t=r.scrollPane===window?window.scrollY:r.scrollPane.scrollTop;t!==r.latestScrollY&&(r.nodeHeight+e<=r.viewPortHeight?r.initial():(t-r.latestScrollY>0?"stickyTop"===r.mode?t+r.scrollPaneOffset+e>r.naturalTop&&(r.mode="relative",r.node.style.position="relative",r.offset=Math.max(0,r.scrollPaneOffset+r.latestScrollY-r.naturalTop+e),r.node.style.top=r.offset+"px"):"relative"===r.mode&&t+r.scrollPaneOffset+r.viewPortHeight>r.naturalTop+r.nodeHeight+r.offset&&(r.mode="stickyBottom",r.node.style.position=y,r.node.style.top=r.viewPortHeight-r.nodeHeight+"px"):"stickyBottom"===r.mode?r.scrollPaneOffset+t+r.viewPortHeight+e<r.naturalTop+r.parentHeight&&(r.mode="relative",r.node.style.position="relative",r.offset=r.scrollPaneOffset+r.latestScrollY+r.viewPortHeight-(r.naturalTop+r.nodeHeight),r.node.style.top=r.offset+"px"):"relative"===r.mode&&r.scrollPaneOffset+t+e<r.naturalTop+r.offset&&(r.mode="stickyTop",r.node.style.position=y,r.node.style.top=e+"px"),r.latestScrollY=t))},o=n,s()(r,o)}return f()(t,e),u()(t,[{key:"initial",value:function(){var e=this.props,t=e.bottom,n=e.offset;t?"stickyBottom"!==this.mode&&(this.mode="stickyBottom",this.node.style.position=y,this.node.style.top=this.viewPortHeight-this.nodeHeight+"px"):"stickyTop"!==this.mode&&(this.mode="stickyTop",this.node.style.position=y,this.node.style.top=n+"px")}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.style;return m.a.createElement("div",{className:n,style:r,ref:this.registerContainerRef},t)}}]),t}(m.a.Component);b.defaultProps={offset:0},t.default=b},1408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(90));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return a.default.createElement(o.default,r({viewBox:"0 0 40 40"},e),a.default.createElement("g",null,a.default.createElement("path",{d:"m11.6 23.4l8.4-8.4 8.4 8.4h-16.8z"})))},e.exports=t.default},1409:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=l(n(0)),o=l(n(90));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return a.default.createElement(o.default,r({viewBox:"0 0 40 40"},e),a.default.createElement("g",null,a.default.createElement("path",{d:"m11.6 16.6h16.8l-8.4 8.4z"})))},e.exports=t.default},1410:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(0)),l=f(n(1)),i=f(n(22)),u=f(n(3)),c=f(n(1409)),s=f(n(1408)),d=f(n(1407));function f(e){return e&&e.__esModule?e:{default:e}}n(1398);var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setActiveTree(e.activeUrl,e.subMenu),n.state={userToggles:{}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),a(t,[{key:"setActiveTree",value:function(e,t){var n=JSON.parse(JSON.stringify(t));!function e(t){t.forEach(function(t){t.active=!1,t.children&&e(t.children)})}(n);for(var r=function e(t,n){return n.children.reduce(function(r,a){return a.__parent=n,r||(a.permalink===t?a:e(t,a))},!1)}(e,{children:n});r;)r.active=!0,r=r.__parent;return n}},{key:"getSubMenuItems",value:function(e,t){var n=(0,u.default)("submenu--item",{"submenu--item-root":e.root},{"submenu--item-has-children":e.children.length>0});if(!t){var r="documenation-override"===e.template?"_blank":"_self";return o.default.createElement(i.default,{look:e.active?"default":"dark",target:r,to:e.permalink,className:n},e.post_title)}var a=void 0;if(e.children.length>0){var l=this.isItemOpen(e)?c.default:s.default;a=o.default.createElement(l,{size:20,className:"arrow-icon"})}return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.default,{look:e.active?"default":"dark",to:e.permalink,className:n,onClick:this.setMenuItemActive.bind(this,e),inline:!0},e.post_title),o.default.createElement("span",{onClick:this.handleArrowToggle.bind(this,e),style:{cursor:"pointer"}},a))}},{key:"setMenuItemActive",value:function(e){"function"==typeof this.props.activateMenuItem&&this.props.activateMenuItem(e.post_name)}},{key:"isItemOpen",value:function(e){var t=this.state.userToggles[e.permalink],n=!!e.active&&e.active;return t||n}},{key:"handleArrowToggle",value:function(e){var t,n,a,o=!!this.state.userToggles[e.permalink];this.setState(r({},this.state,{userToggles:r({},this.state.userToggles,(t={},n=e.permalink,a=!o,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t))}))}},{key:"createSubMenu",value:function(e){var t=this;return e.map(function(e){var n=void 0;if(e.children.length>0){var r=t.isItemOpen(e),a=(0,u.default)("submenu--children",{"submenu--children-active":r});n=o.default.createElement(d.default,null,o.default.createElement("div",{className:"sidebar"},o.default.createElement("ul",{className:a},t.createSubMenu(e.children))))}var l=(0,u.default)("submenu--list",{"submenu--list-single-active":!(0!==e.children.length||!e.current)}),i=t.getSubMenuItems(e,n);return o.default.createElement("li",{key:e.post_id,className:l},i,n)})}},{key:"render",value:function(){var e=this.props,t=e.subMenu,n=e.activeUrl,r=this.setActiveTree(n,t);return o.default.createElement(d.default,{bottom:!1,offset:70},o.default.createElement("div",{className:"sidebar"},o.default.createElement("ul",{className:"submenu"},this.createSubMenu(r))))}}]),t}();p.propTypes={viewport:l.default.object,history:l.default.object,subMenu:l.default.array,activateMenuItem:l.default.func,activeUrl:l.default.string},t.default=p},1411:function(e,t){},1412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=p(n(0)),o=p(n(1)),l=n(33),i=n(19),u=p(n(21)),c=n(492),s=p(n(490)),d=p(n(39)),f=p(n(43));function p(e){return e&&e.__esModule?e:{default:e}}n(214),n(1411);var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={login:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.user,n=e.registerPage;(0,c.isRegisteredInProject)(t,n.content.registered_tag)&&this.redirectToPreviousLocation()}},{key:"redirectToPreviousLocation",value:function(){var e=this.props.location.search,t=new URLSearchParams(e).get("redirect");if(t)this.props.history.push(t);else{var n="/develop/"+this.props.match.params.projectSlug;this.props.location.pathname!=n&&this.props.history.push(n)}}},{key:"handleOAuthWidgetCloseClick",value:function(){this.redirectToPreviousLocation()}},{key:"switchToSignup",value:function(){this.setState({login:!1})}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.viewport;if(t.loading)return a.default.createElement(u.default,null);var r=a.default.createElement(d.default,null,a.default.createElement(f.default,{width:"1/3",className:"project-register--vc-content",viewport:n},a.default.createElement(s.default,{content:this.props.content,viewport:n})));return a.default.createElement("div",{className:"project-register"},r)}}]),t}();m.propTypes={user:o.default.object.isRequired,location:o.default.object.isRequired,history:o.default.object.isRequired,registerPage:o.default.object,match:o.default.object.isRequired,content:o.default.array,viewport:o.default.object},m.contextTypes={};var h=(0,l.withRouter)((0,i.connect)(function(e){return{user:e.user}},function(){return{}})(m));t.default=h},1413:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=w(n(0)),o=w(n(1)),l=n(156),i=n(33),u=n(311),c=n(19),s=w(n(21)),d=w(n(114)),f=w(n(490)),p=w(n(1412)),m=w(n(1344)),h=w(n(1345)),v=w(n(1396)),g=n(308),y=w(n(1346)),b=w(n(1375)),E=w(n(1372)),_=w(n(1365)),k=w(n(56));function w(e){return e&&e.__esModule?e:{default:e}}n(1363);var T=function(t){function n(e){!function(e,t){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.renderMetaTags=function(){var e=t.props,n=e.subPage.content,r=e.parentProject.content;if(!n&&!r)return null;var o=[],l=null;n&&n.featured_image&&n.featured_image.src?l=n.featured_image:r&&r.featured_image&&r.featured_image.src&&(l=r.featured_image);var i=l?k.default.getImageServiceSrcPath(t.context.imageHost,l,1200,"AUTO"):null,u=n&&n.meta_description||r&&r.meta_description,c=n&&n.meta_noindex||r&&r.meta_noindex,s=n&&n.canonical_url||r&&r.canonical_url;return o.push(a.default.createElement("meta",{property:"og:type",content:"website"})),i&&(o.push(a.default.createElement("meta",{name:"image",property:"og:image",content:i})),o.push(a.default.createElement("meta",{name:"twitter:image",content:i}))),u&&(o.push(a.default.createElement("meta",{name:"description",property:"og:description",content:u})),o.push(a.default.createElement("meta",{name:"twitter:description",content:u}))),c&&o.push(a.default.createElement("meta",{name:"robots",content:"noindex"})),s&&(o.push(a.default.createElement("meta",{name:"url",property:"og:url",content:(0,g.getCorrectCanonical)(s,t.props.baseHost)})),o.push(a.default.createElement("link",{rel:"canonical",href:(0,g.getCorrectCanonical)(s,t.props.baseHost)}))),o},t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a.default.Component),r(n,[{key:"getSlug",value:function(e){var t=e.parentProject.content,n=t.secondary_menu.concat(t.secondary_menu_hidden),r=(0,g.findBestMatchingPermalink)(e.match.url,n,["sdk-documentation","develop-tickets","tickets"])||"",a=r.replace(t.permalink,"").replace(/^\//,"");return{currentSubPageSlug:(0,g.getFallbackSlug)(a,e.defaultSlug).replace(/(^\/|\/$)/,""),restOfUrl:e.match.url.substring(r.length).replace(/(^\/|\/$)/,""),pageUrl:r.replace(/\/$/,"")}}},{key:"componentWillMount",value:function(){var e=this.getSlug(this.props).currentSubPageSlug;this.context.registerFetchAction((0,u.fetchProjectSubPage)(this.props.match.params.projectSlug,e),"fetch-project-sub-page-"+this.props.match.params.projectSlug+"-"+e)}},{key:"componentWillReceiveProps",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n,r){var a,o,l,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.match.params.projectSlug,o=this.getSlug(n),l=o.currentSubPageSlug,i=n.location.pathname===this.props.location.pathname,t.next=5,(0,u.fetchProjectSubPage)(a,l)(n.dispatch,r.store.getState());case 5:!(!i||n.subPage&&n.subPage.serverRendered)||"/"===l||"overview"===l&&"#overview-content"!==n.location.hash||"browser"===e.title&&setTimeout(function(){var e=document.querySelector(".project--subpage--ph"),t=decodeURIComponent(n.location.hash.replace("#",""));if(t){var r=document.querySelector("#"+t);if(r){var o=document.createElement("span");o.classList.add("project-sub-page--anchor-link-compensator"),r.prepend(o),r.style.position="relative",e=o}}e&&e.scrollIntoView({behavior:"smooth",block:"start"}),(0,u.resetServerRender)(a,l)(n.dispatch)},100);case 6:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(a,o){try{var l=e[a](o),i=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(i).then(function(e){r("next",e)},function(e){r("throw",e)});t(i)}("next")})});return function(e,t){return n.apply(this,arguments)}}()},{key:"onActivateSubMenuItem",value:function(e){(0,u.setSubMenuItemAsActive)(e,this.props.currentSubPageSlug)(this.props.dispatch)}},{key:"render",value:function(){var e=this.props,t=e.subPage,n=e.viewport,r=e.localization,o=this.getSlug(this.props),i=o.currentSubPageSlug,u=o.pageUrl,c=o.restOfUrl,g=this.props.location.pathname;if(!t||t.loading)return a.default.createElement(s.default,null);if(t&&t.error)return a.default.createElement(d.default,{error:t.error});var k=void 0;t.content.is_translated||"en"===r.currentLanguage?t.content.show_not_translated&&(k=a.default.createElement(h.default,{viewport:n,language:r.currentLanguage})):k=a.default.createElement(h.default,{viewport:n,language:r.currentLanguage});var w=void 0,T=t.content.sub_menu&&t.content.sub_menu.length>0;if("tickets"===t.content.template){var S=t.content.program_id,C=c;w="create"===C?a.default.createElement(_.default,{ticketFormId:t.content.ticket_form}):""===C?a.default.createElement(m.default,{history:this.props.history,viewport:n,subMenu:t.content.sub_menu,subPage:t,activeUrl:g,activateMenuItem:this.onActivateSubMenuItem.bind(this)},a.default.createElement(f.default,{useRowSectionPadding:T,content:t.content.vc_content,viewport:n}),a.default.createElement(b.default,{programId:S,path:this.props.location.pathname})):a.default.createElement(m.default,{history:this.props.history,viewport:n,subMenu:t.content.sub_menu,subPage:t,activeUrl:g,activateMenuItem:this.onActivateSubMenuItem.bind(this)},a.default.createElement(E.default,{programId:S,path:this.props.location.pathname,lookupName:C,ticketReplyFormId:t.content.ticket_reply_form}))}else if("register"===t.content.template)w=a.default.createElement(p.default,{registerPage:t,content:t.content.vc_content,viewport:{width:100,height:this.props.viewport.height},location:this.props.location});else if("bloglist"===t.content.template)w=a.default.createElement(m.default,{history:this.props.history,viewport:n,subMenu:t.content.sub_menu,subPage:t,activeUrl:g,activateMenuItem:this.onActivateSubMenuItem.bind(this)},k,a.default.createElement(f.default,{useRowSectionPadding:T,content:t.content.vc_content,viewport:n}));else if("sdk-documentation"===t.content.template){var P=c||t.content.sdk_documentation,M=t.content.sdk_documentation;w=a.default.createElement(v.default,{pageContent:t.content,subPageSlug:i,activeUrl:g,documentationPrefix:M,viewport:n,history:this.props.history,rootPath:u,path:P})}else"generic-form"===t.content.template?w=a.default.createElement(y.default,{pageContent:t.content,viewport:n,vcContent:t.content.vc_content,location:this.props.location}):"redirect"===t.content.template&&t.content.redirect_link&&t.content.redirect_link.url?"undefined"!=typeof window&&window.location.replace(t.content.redirect_link.url):w=a.default.createElement(m.default,{history:this.props.history,viewport:n,subMenu:t.content.sub_menu,subPage:t,activeUrl:g,activateMenuItem:this.onActivateSubMenuItem.bind(this)},a.default.createElement(f.default,{useRowSectionPadding:T,content:t.content.vc_content,viewport:n}));return a.default.createElement("div",{className:"project--subpage"},a.default.createElement(l.Helmet,null,this.renderMetaTags()),a.default.createElement("div",{className:"project--subpage--ph"}),k,w)}}]),n}();T.propTypes={dispatch:o.default.func,subPage:o.default.object,defaultSlug:o.default.string,match:o.default.object,viewport:o.default.object,currentSubPageSlug:o.default.string,parentProject:o.default.object,location:o.default.object,history:o.default.object,localization:o.default.object,baseHost:o.default.string},T.contextTypes={store:o.default.object,registerFetchAction:o.default.func,imageHost:o.default.string};var S=(0,i.withRouter)((0,c.connect)(function(e,t){var n=e.projects.list[t.match.params.projectSlug],r=(0,g.getFallbackSlug)(e.projects.currentSubPageSlug,t.defaultSlug);return{subPage:n?n.subPages[r]:null,currentSubPageSlug:r,parentProject:n,baseHost:e.settings.baseHost,viewport:e.viewport,localization:e.localization}},function(e){return{dispatch:e}})(T));t.default=S}).call(this,n(23))}}]);